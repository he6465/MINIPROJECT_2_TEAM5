import{j as r,B as a,L as c}from"./index-BiuEXBLa.js";import{a as h}from"./addDays-Cugsopwf.js";import{f as m}from"./format-Cc2PyARz.js";const i="hrt:routines";function d(){const e=localStorage.getItem(i);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function f(e){localStorage.setItem(i,JSON.stringify(e))}function x(){return d().sort((e,t)=>t.date.localeCompare(e.date))}function w(e){A(e);const t=new Date().toISOString(),o=d();if(o.some(n=>n.date===e.date))throw new Error("ROUTINE_DUPLICATE");const s={id:crypto.randomUUID(),createdAt:t,updatedAt:t,...e};return o.push(s),f(o),s}function l(){localStorage.removeItem(i)}function A(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e.date))throw new Error("VALIDATION_FAILED: date");const t=(o,s,n)=>o>=s&&o<=n;if(e.sleepHours!==void 0&&!t(e.sleepHours,0,16))throw new Error("VALIDATION_FAILED: sleepHours");if(e.exerciseMinutes!==void 0&&!t(e.exerciseMinutes,0,600))throw new Error("VALIDATION_FAILED: exerciseMinutes");if(e.waterMl!==void 0&&!t(e.waterMl,0,1e4))throw new Error("VALIDATION_FAILED: waterMl");if(e.meals&&e.meals.length>1e3)throw new Error("VALIDATION_FAILED: meals");if(e.note&&e.note.length>1e3)throw new Error("VALIDATION_FAILED: note")}function p(){const e=x();return r.jsxs("section",{style:{display:"grid",gap:12},children:[r.jsx("h2",{children:"개발용 QA"}),r.jsxs("div",{className:"card",style:{display:"grid",gap:8},children:[r.jsx("strong",{children:"빠른 이동"}),r.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[r.jsx(a,{to:"posts/new",children:"루틴 작성"}),r.jsx(a,{variant:"ghost",to:"posts",children:"목록"}),r.jsx(a,{variant:"ghost",to:"stats",children:"통계"}),r.jsx(a,{variant:"ghost",to:"me",children:"마이페이지"})]})]}),r.jsxs("div",{className:"card",style:{display:"grid",gap:8},children:[r.jsx("strong",{children:"최근 루틴"}),e.slice(0,5).map(t=>r.jsx(c,{to:`/posts/${t.id}`,children:t.date},t.id)),r.jsxs("div",{style:{display:"flex",gap:8},children:[r.jsx(a,{variant:"ghost",onClick:()=>{l(),location.reload()},children:"초기화"}),r.jsx(a,{onClick:()=>{l();const t=new Date;for(let o=0;o<7;o++){const s=h(t,-o);w({date:m(s,"yyyy-MM-dd"),sleepHours:6+Math.round(Math.random()*30)/10,exerciseType:["WALK","RUN","GYM","ETC"][Math.floor(Math.random()*4)],exerciseMinutes:Math.round(Math.random()*60),meals:"샘플 식사 기록",waterMl:1200+Math.round(Math.random()*1200),note:"샘플 노트"})}location.reload()},children:"샘플 데이터 주입"})]})]})]})}export{p as default};
