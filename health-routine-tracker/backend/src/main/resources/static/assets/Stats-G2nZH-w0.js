import{r as s,T as yt,U as gt,N as bt,j as l,B as J}from"./index-B9CrD5jL.js";import{b as xt,c as re,f as Q,d as H,u as Qe,e as R,p as de,g as Pt,i as jt,s as V,h as Ot,j as At,k as et,l as wt,m as St,n as B,o as Tt,q as tt,r as Et,t as kt,v as Ct,x as It,y as Dt,z as Rt,A as rt,B as Nt,D as pe,E as at,F as Lt,J as nt,G,H as Y,S as _t,I as Mt,K as X,M as $t,N as Kt,O as Wt,P as it,Q as Bt,U as Ft,V as st,W,Y as Gt,Z as Yt,_ as Vt,$ as qt,a0 as Ce,a1 as se,a2 as ye,a3 as Ut,a4 as Ht,a5 as Xt,a6 as zt,a7 as Jt,a8 as Zt,a9 as Qt,aa as Z,ab as er,ac as tr,ad as rr,ae as ar,af as nr,ag as ir,ah as sr,ai as lr,aj as or,ak as cr,al as ur,am as dr,an as pr,ao as vr,ap as M,aq as mr,ar as Ie,as as fr,at as hr,au as yr,av as gr,aw as br,ax as xr,w as Pr,ay as jr,R as ae,T as ne,L as De,C as Re,X as Ne,a as ie}from"./stats-BaRq6KDj.js";import{S as Or}from"./Section-BUPE_Zxl.js";import{a as Ar,E as Le}from"./State-BeJNxEGY.js";import"./format-Cc2PyARz.js";import"./startOfMonth-xYZtRiky.js";const lt=Math.cos,le=Math.sin,$=Math.sqrt,oe=Math.PI,ve=2*oe,Oe={draw(e,r){const t=$(r/oe);e.moveTo(t,0),e.arc(0,0,t,0,ve)}},wr={draw(e,r){const t=$(r/5)/2;e.moveTo(-3*t,-t),e.lineTo(-t,-t),e.lineTo(-t,-3*t),e.lineTo(t,-3*t),e.lineTo(t,-t),e.lineTo(3*t,-t),e.lineTo(3*t,t),e.lineTo(t,t),e.lineTo(t,3*t),e.lineTo(-t,3*t),e.lineTo(-t,t),e.lineTo(-3*t,t),e.closePath()}},ot=$(1/3),Sr=ot*2,Tr={draw(e,r){const t=$(r/Sr),a=t*ot;e.moveTo(0,-t),e.lineTo(a,0),e.lineTo(0,t),e.lineTo(-a,0),e.closePath()}},Er={draw(e,r){const t=$(r),a=-t/2;e.rect(a,a,t,t)}},kr=.8908130915292852,ct=le(oe/10)/le(7*oe/10),Cr=le(ve/10)*ct,Ir=-lt(ve/10)*ct,Dr={draw(e,r){const t=$(r*kr),a=Cr*t,n=Ir*t;e.moveTo(0,-t),e.lineTo(a,n);for(let i=1;i<5;++i){const o=ve*i/5,c=lt(o),p=le(o);e.lineTo(p*t,-c*t),e.lineTo(c*a-p*n,p*a+c*n)}e.closePath()}},me=$(3),Rr={draw(e,r){const t=-$(r/(me*3));e.moveTo(0,t*2),e.lineTo(-me*t,-t),e.lineTo(me*t,-t),e.closePath()}},L=-.5,_=$(3)/2,ge=1/$(12),Nr=(ge/2+1)*3,Lr={draw(e,r){const t=$(r/Nr),a=t/2,n=t*ge,i=a,o=t*ge+t,c=-i,p=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(c,p),e.lineTo(L*a-_*n,_*a+L*n),e.lineTo(L*i-_*o,_*i+L*o),e.lineTo(L*c-_*p,_*c+L*p),e.lineTo(L*a+_*n,L*n-_*a),e.lineTo(L*i+_*o,L*o-_*i),e.lineTo(L*c+_*p,L*p-_*c),e.closePath()}};function _r(e,r){let t=null,a=xt(n);e=typeof e=="function"?e:re(e||Oe),r=typeof r=="function"?r:re(r===void 0?64:+r);function n(){let i;if(t||(t=i=a()),e.apply(this,arguments).draw(t,+r.apply(this,arguments)),i)return t=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:re(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:re(+i),n):r},n.context=function(i){return arguments.length?(t=i??null,n):t},n}var Mr=["type","size","sizeType"];function be(){return be=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},be.apply(null,arguments)}function _e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function Me(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_e(Object(t),!0).forEach(function(a){$r(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_e(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function $r(e,r,t){return(r=Kr(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Kr(e){var r=Wr(e,"string");return typeof r=="symbol"?r:r+""}function Wr(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Br(e,r){if(e==null)return{};var t,a,n=Fr(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Fr(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var ut={symbolCircle:Oe,symbolCross:wr,symbolDiamond:Tr,symbolSquare:Er,symbolStar:Dr,symbolTriangle:Rr,symbolWye:Lr},Gr=Math.PI/180,Yr=e=>{var r="symbol".concat(Qe(e));return ut[r]||Oe},Vr=(e,r,t)=>{if(r==="area")return e;switch(t){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Gr;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qr=(e,r)=>{ut["symbol".concat(Qe(e))]=r},dt=e=>{var{type:r="circle",size:t=64,sizeType:a="area"}=e,n=Br(e,Mr),i=Me(Me({},n),{},{type:r,size:t,sizeType:a}),o="circle";typeof r=="string"&&(o=r);var c=()=>{var f=Yr(o),u=_r().type(f).size(Vr(t,a,o));return u()},{className:p,cx:v,cy:y}=i,x=Q(i,!0);return v===+v&&y===+y&&t===+t?s.createElement("path",be({},x,{className:H("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(y,")"),d:c()})):null};dt.registerSymbol=qr;var U=e=>null;U.displayName="Cell";var pt=e=>e.graphicalItems.polarItems,Ur=R([de,Pt],jt),Ae=R([pt,V,Ur],Ot),Hr=R([Ae],At),we=R([Hr,et],wt),Xr=R([we,V,Ae],St),zr=R([we,V,Ae],(e,r,t)=>t.length>0?e.flatMap(a=>t.flatMap(n=>{var i,o=B(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):r?.dataKey!=null?e.map(a=>({value:B(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),$e=()=>{},Jr=R([V,Tt,$e,zr,$e,tt,de],Et),vt=R([V,tt,we,Xr,kt,de,Jr],Ct),Zr=R([vt,V,It],Dt);R([V,vt,Zr,de],Rt);function Ke(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function We(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ke(Object(t),!0).forEach(function(a){Qr(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ke(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Qr(e,r,t){return(r=ea(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ea(e){var r=ta(e,"string");return typeof r=="symbol"?r:r+""}function ta(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ra=(e,r)=>r,Se=R([pt,ra],(e,r)=>e.filter(t=>t.type==="pie").find(t=>t.id===r)),aa=[],Te=(e,r,t)=>t?.length===0?aa:t,mt=R([et,Se,Te],(e,r,t)=>{var{chartData:a}=e;if(r!=null){var n;if(r?.data!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&t!=null&&(n=t.map(i=>We(We({},r.presentationProps),i.props))),n!=null)return n}}),na=R([mt,Se,Te],(e,r,t)=>{if(!(e==null||r==null))return e.map((a,n)=>{var i,o=B(a,r.nameKey,r.name),c;return t!=null&&(i=t[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=t[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?c=a.fill:c=r.fill,{value:rt(o,r.dataKey),color:c,payload:a,type:r.legendType}})}),ia=R([mt,Se,Te,Nt],(e,r,t,a)=>{if(!(r==null||e==null))return Ua({offset:a,pieSettings:r,displayedData:e,cells:t})}),fe={},Be;function sa(){return Be||(Be=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let a=t;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(t)===a}e.isPlainObject=r})(fe)),fe}var he,Fe;function la(){return Fe||(Fe=1,he=sa().isPlainObject),he}var oa=la();const ca=yt(oa);function Ge(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function Ye(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ge(Object(t),!0).forEach(function(a){ua(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ge(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function ua(e,r,t){return(r=da(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function da(e){var r=pa(e,"string");return typeof r=="symbol"?r:r+""}function pa(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ce.apply(null,arguments)}var Ve=(e,r,t,a,n)=>{var i=t-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+t,",").concat(r),o+="L ".concat(e+t-i/2,",").concat(r+n),o+="L ".concat(e+t-i/2-a,",").concat(r+n),o+="L ".concat(e,",").concat(r," Z"),o},va={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ma=e=>{var r=pe(e,va),{x:t,y:a,upperWidth:n,lowerWidth:i,height:o,className:c}=r,{animationEasing:p,animationDuration:v,animationBegin:y,isUpdateAnimationActive:x}=r,f=s.useRef(),[u,j]=s.useState(-1),A=s.useRef(n),k=s.useRef(i),E=s.useRef(o),N=s.useRef(t),d=s.useRef(a),C=at(e,"trapezoid-");if(s.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var D=f.current.getTotalLength();D&&j(D)}catch{}},[]),t!==+t||a!==+a||n!==+n||i!==+i||o!==+o||n===0&&i===0||o===0)return null;var w=H("recharts-trapezoid",c);if(!x)return s.createElement("g",null,s.createElement("path",ce({},Q(r,!0),{className:w,d:Ve(t,a,n,i,o)})));var m=A.current,b=k.current,S=E.current,T=N.current,P=d.current,h="0px ".concat(u===-1?1:u,"px"),g="".concat(u,"px 0px"),I=Lt(["strokeDasharray"],v,p);return s.createElement(nt,{animationId:C,key:C,canBegin:u>0,duration:v,easing:p,isActive:x,begin:y},D=>{var K=G(m,n,D),z=G(b,i,D),ee=G(S,o,D),te=G(T,t,D),ke=G(P,a,D);f.current&&(A.current=K,k.current=z,E.current=ee,N.current=te,d.current=ke);var ht=D>0?{transition:I,strokeDasharray:g}:{strokeDasharray:h};return s.createElement("path",ce({},Q(r,!0),{className:w,d:Ve(te,ke,K,z,ee),ref:f,style:Ye(Ye({},ht),r.style)}))})},fa=["option","shapeType","propTransformer","activeClassName","isActive"];function ha(e,r){if(e==null)return{};var t,a,n=ya(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function ya(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function qe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function ue(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qe(Object(t),!0).forEach(function(a){ga(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function ga(e,r,t){return(r=ba(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ba(e){var r=xa(e,"string");return typeof r=="symbol"?r:r+""}function xa(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Pa(e,r){return ue(ue({},r),e)}function ja(e,r){return e==="symbols"}function Ue(e){var{shapeType:r,elementProps:t}=e;switch(r){case"rectangle":return s.createElement(Mt,t);case"trapezoid":return s.createElement(ma,t);case"sector":return s.createElement(_t,t);case"symbols":if(ja(r))return s.createElement(dt,t);break;default:return null}}function Oa(e){return s.isValidElement(e)?e.props:e}function Aa(e){var{option:r,shapeType:t,propTransformer:a=Pa,activeClassName:n="recharts-active-shape",isActive:i}=e,o=ha(e,fa),c;if(s.isValidElement(r))c=s.cloneElement(r,ue(ue({},o),Oa(r)));else if(typeof r=="function")c=r(o);else if(ca(r)&&typeof r!="boolean"){var p=a(r,o);c=s.createElement(Ue,{shapeType:t,elementProps:p})}else{var v=o;c=s.createElement(Ue,{shapeType:t,elementProps:v})}return i?s.createElement(Y,{className:n},c):c}var wa=(e,r)=>{var t=X();return(a,n)=>i=>{e?.(a,n,i),t($t({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},Sa=e=>{var r=X();return(t,a)=>n=>{e?.(t,a,n),r(Kt())}},Ta=(e,r)=>{var t=X();return(a,n)=>i=>{e?.(a,n,i),t(Wt({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},Ea=["onMouseEnter","onClick","onMouseLeave"],ka=["id"],Ca=["id"];function Ee(e,r){if(e==null)return{};var t,a,n=Ia(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Ia(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function He(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?He(Object(t),!0).forEach(function(a){Da(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):He(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Da(e,r,t){return(r=Ra(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ra(e){var r=Na(e,"string");return typeof r=="symbol"?r:r+""}function Na(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},F.apply(null,arguments)}function La(e){var r=s.useMemo(()=>st(e.children,U),[e.children]),t=W(a=>na(a,e.id,r));return t==null?null:s.createElement(Gt,{legendPayload:t})}function _a(e){var{dataKey:r,nameKey:t,sectors:a,stroke:n,strokeWidth:i,fill:o,name:c,hide:p,tooltipType:v}=e;return{dataDefinedOnItem:a.map(y=>y.tooltipPayload),positions:a.map(y=>y.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:r,nameKey:t,name:rt(c,r),hide:p,type:v,color:o,unit:""}}}var Ma=(e,r)=>e>r?"start":e<r?"end":"middle",$a=(e,r,t)=>typeof r=="function"?Z(r(e),t,t*.8):Z(r,t,t*.8),Ka=(e,r,t)=>{var{top:a,left:n,width:i,height:o}=r,c=Qt(i,o),p=n+Z(e.cx,i,i/2),v=a+Z(e.cy,o,o/2),y=Z(e.innerRadius,c,0),x=$a(t,e.outerRadius,c),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:p,cy:v,innerRadius:y,outerRadius:x,maxRadius:f}},Wa=(e,r)=>{var t=se(r-e),a=Math.min(Math.abs(r-e),360);return t*a};function Ba(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Fa=(e,r)=>{if(s.isValidElement(e))return s.cloneElement(e,r);if(typeof e=="function")return e(r);var t=H("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return s.createElement(er,F({},r,{type:"linear",className:t}))},Ga=(e,r,t)=>{if(s.isValidElement(e))return s.cloneElement(e,r);var a=t;if(typeof e=="function"&&(a=e(r),s.isValidElement(a)))return a;var n=H("recharts-pie-label-text",Ba(e));return s.createElement(tr,F({},r,{alignmentBaseline:"middle",className:n}),a)};function Ya(e){var{sectors:r,props:t,showLabels:a}=e,{label:n,labelLine:i,dataKey:o}=t;if(!a||!n||!r)return null;var c=it(t),p=Q(n,!1),v=Q(i,!1),y=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,x=r.map((f,u)=>{var j=(f.startAngle+f.endAngle)/2,A=ye(f.cx,f.cy,f.outerRadius+y,j),k=O(O(O(O({},c),f),{},{stroke:"none"},p),{},{index:u,textAnchor:Ma(A.x,f.cx)},A),E=O(O(O(O({},c),f),{},{fill:"none",stroke:f.fill},v),{},{index:u,points:[ye(f.cx,f.cy,f.outerRadius,j),A],key:"line"});return s.createElement(Y,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(u)},i&&Fa(i,E),Ga(n,k,B(f,o)))});return s.createElement(Y,{className:"recharts-pie-labels"},x)}function Va(e){var{sectors:r,props:t,showLabels:a}=e,{label:n}=t;return typeof n=="object"&&n!=null&&"position"in n?s.createElement(Zt,{label:t.label}):s.createElement(Ya,{sectors:r,props:t,showLabels:a})}function qa(e){var{sectors:r,activeShape:t,inactiveShape:a,allOtherPieProps:n}=e,i=W(Ht),{onMouseEnter:o,onClick:c,onMouseLeave:p}=n,v=Ee(n,Ea),y=wa(o,n.dataKey),x=Sa(p),f=Ta(c,n.dataKey);return r==null||r.length===0?null:s.createElement(s.Fragment,null,r.map((u,j)=>{if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var A=t&&String(j)===i,k=i?a:null,E=A?t:k,N=O(O({},u),{},{stroke:u.stroke,tabIndex:-1,[zt]:j,[Xt]:n.dataKey});return s.createElement(Y,F({tabIndex:-1,className:"recharts-pie-sector"},Jt(v,u,j),{onMouseEnter:y(u,j),onMouseLeave:x(u,j),onClick:f(u,j),key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(j)}),s.createElement(Aa,F({option:E,isActive:A,shapeType:"sector"},N)))}))}function Ua(e){var r,{pieSettings:t,displayedData:a,cells:n,offset:i}=e,{cornerRadius:o,startAngle:c,endAngle:p,dataKey:v,nameKey:y,tooltipType:x}=t,f=Math.abs(t.minAngle),u=Wa(c,p),j=Math.abs(u),A=a.length<=1?0:(r=t.paddingAngle)!==null&&r!==void 0?r:0,k=a.filter(m=>B(m,v,0)!==0).length,E=(j>=360?k:k-1)*A,N=j-k*f-E,d=a.reduce((m,b)=>{var S=B(b,v,0);return m+(Ce(S)?S:0)},0),C;if(d>0){var w;C=a.map((m,b)=>{var S=B(m,v,0),T=B(m,y,b),P=Ka(t,i,m),h=(Ce(S)?S:0)/d,g,I=O(O({},m),n&&n[b]&&n[b].props);b?g=w.endAngle+se(u)*A*(S!==0?1:0):g=c;var D=g+se(u)*((S!==0?f:0)+h*N),K=(g+D)/2,z=(P.innerRadius+P.outerRadius)/2,ee=[{name:T,value:S,payload:I,dataKey:v,type:x}],te=ye(P.cx,P.cy,z,K);return w=O(O(O(O({},t.presentationProps),{},{percent:h,cornerRadius:o,name:T,tooltipPayload:ee,midAngle:K,middleRadius:z,tooltipPosition:te},I),P),{},{value:B(m,v),startAngle:g,endAngle:D,payload:I,paddingAngle:se(u)*A}),w})}return C}function Ha(e){var{showLabels:r,sectors:t,children:a}=e,n=s.useMemo(()=>!r||!t?[]:t.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[t,r]);return s.createElement(Ut,{value:r?n:void 0},a)}function Xa(e){var{props:r,previousSectorsRef:t}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:c,activeShape:p,inactiveShape:v,onAnimationStart:y,onAnimationEnd:x}=r,f=at(r,"recharts-pie-"),u=t.current,[j,A]=s.useState(!1),k=s.useCallback(()=>{typeof x=="function"&&x(),A(!1)},[x]),E=s.useCallback(()=>{typeof y=="function"&&y(),A(!0)},[y]);return s.createElement(Ha,{showLabels:!j,sectors:a},s.createElement(nt,{animationId:f,begin:i,duration:o,isActive:n,easing:c,onAnimationStart:E,onAnimationEnd:k,key:f},N=>{var d=[],C=a&&a[0],w=C?.startAngle;return a?.forEach((m,b)=>{var S=u&&u[b],T=b>0?qt(m,"paddingAngle",0):0;if(S){var P=G(S.endAngle-S.startAngle,m.endAngle-m.startAngle,N),h=O(O({},m),{},{startAngle:w+T,endAngle:w+P+T});d.push(h),w=h.endAngle}else{var{endAngle:g,startAngle:I}=m,D=G(0,g-I,N),K=O(O({},m),{},{startAngle:w+T,endAngle:w+D+T});d.push(K),w=K.endAngle}}),t.current=d,s.createElement(Y,null,s.createElement(qa,{sectors:d,activeShape:p,inactiveShape:v,allOtherPieProps:r}))}),s.createElement(Va,{showLabels:!j,sectors:a,props:r}),r.children)}var za={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Vt.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ja(e){var{id:r}=e,t=Ee(e,ka),{hide:a,className:n,rootTabIndex:i}=e,o=s.useMemo(()=>st(e.children,U),[e.children]),c=W(y=>ia(y,r,o)),p=s.useRef(null),v=H("recharts-pie",n);return a||c==null?(p.current=null,s.createElement(Y,{tabIndex:i,className:v})):s.createElement(s.Fragment,null,s.createElement(Yt,{fn:_a,args:O(O({},e),{},{sectors:c})}),s.createElement(Y,{tabIndex:i,className:v},s.createElement(Xa,{props:O(O({},t),{},{sectors:c}),previousSectorsRef:p})))}function xe(e){var r=pe(e,za),{id:t}=r,a=Ee(r,Ca),n=it(a);return s.createElement(Bt,{id:t,type:"pie"},i=>s.createElement(s.Fragment,null,s.createElement(Ft,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n}),s.createElement(La,F({},a,{id:i})),s.createElement(Ja,F({},a,{id:i}))))}xe.displayName="Pie";var Za=e=>{var{ticks:r,label:t,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,o=0;if(r){r.forEach(y=>{if(y){var x=y.getBoundingClientRect();x.width>o&&(o=x.width)}});var c=t?t.getBoundingClientRect().width:0,p=n+i,v=o+p+c+(t?a:0);return Math.round(v)}return 0},Qa=["dangerouslySetInnerHTML","ticks"],en=["id"];function ft(e,r,t){return(r=tn(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function tn(e){var r=rn(e,"string");return typeof r=="symbol"?r:r+""}function rn(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Pe.apply(null,arguments)}function Xe(e,r){if(e==null)return{};var t,a,n=an(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function an(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function nn(e){var r=X();return s.useEffect(()=>(r(rr(e)),()=>{r(ar(e))}),[e,r]),null}var sn=e=>{var r,{yAxisId:t,className:a,width:n,label:i}=e,o=s.useRef(null),c=s.useRef(null),p=W(nr),v=ir(),y=X(),x="yAxis",f=W(m=>sr(m,x,t,v)),u=W(m=>lr(m,t)),j=W(m=>or(m,t)),A=W(m=>cr(m,x,t,v)),k=W(m=>ur(m,t));if(s.useLayoutEffect(()=>{var m;if(!(n!=="auto"||!u||dr(i)||s.isValidElement(i)||k==null)){var b=o.current,S=b==null||(m=b.tickRefs)===null||m===void 0?void 0:m.current,{tickSize:T,tickMargin:P}=b.props,h=Za({ticks:S,label:c.current,labelGapWithTick:5,tickSize:T,tickMargin:P});Math.round(u.width)!==Math.round(h)&&y(pr({id:t,width:h}))}},[o,o==null||(r=o.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,u?.width,u,y,i,t,n]),u==null||j==null||k==null)return null;var{dangerouslySetInnerHTML:E,ticks:N}=e,d=Xe(e,Qa),{id:C}=k,w=Xe(k,en);return s.createElement(vr,Pe({},d,w,{ref:o,labelRef:c,scale:f,x:j.x,y:j.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:u.width,height:u.height,className:H("recharts-".concat(x," ").concat(x),a),viewBox:p,ticks:A}))},ln=e=>{var r,t,a,n,i;return s.createElement(s.Fragment,null,s.createElement(nn,{interval:(r=e.interval)!==null&&r!==void 0?r:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(t=e.includeHidden)!==null&&t!==void 0?t:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),s.createElement(sn,e))},on={allowDataOverflow:M.allowDataOverflow,allowDecimals:M.allowDecimals,allowDuplicatedCategory:M.allowDuplicatedCategory,hide:!1,mirror:M.mirror,orientation:M.orientation,padding:M.padding,reversed:M.reversed,scale:M.scale,tickCount:M.tickCount,type:M.type,width:M.width,yAxisId:0};class q extends s.Component{render(){return s.createElement(ln,this.props)}}ft(q,"displayName","YAxis");ft(q,"defaultProps",on);function cn(e){var r=X();return s.useEffect(()=>{r(mr(e))},[r,e]),null}var un=["width","height","layout"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},je.apply(null,arguments)}function dn(e,r){if(e==null)return{};var t,a,n=pn(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function pn(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var vn={top:5,right:5,bottom:5,left:5},mn={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vn,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},fn=s.forwardRef(function(r,t){var a,n=pe(r.categoricalChartProps,mn),{width:i,height:o,layout:c}=n,p=dn(n,un);if(!Ie(i)||!Ie(o))return null;var{chartName:v,defaultTooltipEventType:y,validateTooltipEventTypes:x,tooltipPayloadSearcher:f}=r,u={chartName:v,defaultTooltipEventType:y,validateTooltipEventTypes:x,tooltipPayloadSearcher:f,eventEmitter:void 0};return s.createElement(fr,{preloadedState:{options:u},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:v},s.createElement(hr,{chartData:n.data}),s.createElement(yr,{width:i,height:o,layout:c,margin:n.margin}),s.createElement(gr,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),s.createElement(cn,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),s.createElement(br,je({width:i,height:o},p,{ref:t})))}),hn=["item"],yn={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ze=s.forwardRef((e,r)=>{var t=pe(e,yn);return s.createElement(fn,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:hn,tooltipPayloadSearcher:xr,categoricalChartProps:t,ref:r})});async function Je(e){const{data:r}=await gt.post("/ai/insight",{avgSleep:e.avgSleep,exerciseDays:e.exerciseDays,avgWater:e.avgWater,exerciseType:e.exerciseType??"other"},{responseType:"text"});return r}function Ze(e,r){if(!r.length)return;const t=Object.keys(r[0]),a=p=>{const v=String(p??"");return v.includes(",")||v.includes('"')||v.includes(`
`)?'"'+v.replace(/"/g,'""')+'"':v},n=[t.join(",")].concat(r.map(p=>t.map(v=>a(p[v])).join(","))).join(`
`),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(i),c=document.createElement("a");c.href=o,c.download=e,c.click(),URL.revokeObjectURL(o)}function An(){const[e,r]=s.useState("weekly"),[t,a]=s.useState(null),[n,i]=s.useState(null),[o,c]=s.useState(null),[p,v]=s.useState(null),[y,x]=s.useState(null),[f,u]=s.useState(""),[j,A]=s.useState(!1),k={WALK:"#34CF5D",RUN:"#269B61",GYM:"#E8FC58",ETC:"#93C5FD",other:"#A1A1AA"},E=s.useMemo(()=>{if(!t)return null;const d=t.data,C=t.summary?.sleepAvg??0,w=t.summary?.waterTotal??0,m=t.summary?.exerciseCount??0,b={};d.forEach(h=>{const g=h.exerciseType??"other";b[g]=(b[g]??0)+(h.exercise||h.exerciseMinutes?1:0)});const S=Object.entries(b).map(([h,g])=>({name:h,value:g})),T=d.reduce((h,g)=>(g.sleep??0)>(h.sleep??0)?g:h,d[0]??{}),P=d.reduce((h,g)=>(g.sleep??0)<(h.sleep??0)?g:h,d[0]??{});return{sleepAvg:C,waterTotal:w,exerciseCount:m,distArr:S,maxSleep:T,minSleep:P}},[t]);s.useEffect(()=>{(async()=>{if(t)try{A(!0);const d=t.data??[],C=t.summary?.sleepAvg??0,w=t.summary?.exerciseCount??0,m=d.length>0?Math.round(d.reduce((P,h)=>P+(h.water??0),0)/d.length):0,b={};d.forEach(P=>{const h=P.exerciseType??"other";b[h]=(b[h]??0)+1});const S=Object.entries(b).sort((P,h)=>h[1]-P[1])[0]?.[0]??"other",T=await Je({avgSleep:Number(C)||0,exerciseDays:Number(w)||0,avgWater:Number(m)||0,exerciseType:S});u(T)}catch{u("AI가 현재 비활성화되어 있습니다. 키 설정 후 사용해 주세요.")}finally{A(!1)}})()},[t]);const N=async()=>{if(t)try{A(!0);const d=t.data??[],C=t.summary?.sleepAvg??0,w=t.summary?.exerciseCount??0,m=d.length>0?Math.round(d.reduce((P,h)=>P+(h.water??0),0)/d.length):0,b={};d.forEach(P=>{const h=P.exerciseType??"other";b[h]=(b[h]??0)+1});const S=Object.entries(b).sort((P,h)=>h[1]-P[1])[0]?.[0]??"other",T=await Je({avgSleep:Number(C)||0,exerciseDays:Number(w)||0,avgWater:Number(m)||0,exerciseType:S});u(T)}catch{u("AI가 현재 비활성화되어 있습니다. 키 설정 후 사용해 주세요.")}finally{A(!1)}};return s.useEffect(()=>{(async()=>{try{a(await Pr()),i(await jr())}catch(d){x(d?.message??"데이터를 불러오지 못했습니다.")}})()},[]),s.useEffect(()=>{(async()=>{if(!(e!=="monthly"||!n||n.length===0))try{const d=n.map(g=>g.date).sort(),C=d[0],w=d[d.length-1],m=localStorage.getItem("hrt:user"),b=m?JSON.parse(m).id??1:1,T=((await bt({userId:b,from:C,to:w,page:1,size:100})).content??[]).map(g=>({date:g.date,sleep:g.sleepHours??0,water:g.waterMl??0})).sort((g,I)=>g.date.localeCompare(I.date)),P=T.reduce((g,I)=>(I.sleep??0)>(g.sleep??0)?I:g,T[0]??{}),h=T.reduce((g,I)=>(I.sleep??0)<(g.sleep??0)?I:g,T[0]??{});c(T),v({min:h,max:P})}catch{c(null),v(null)}})()},[e,n]),l.jsxs(Or,{title:"통계",subtitle:"패턴을 발견하고 개선하세요",children:[l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx(J,{variant:e==="weekly"?"primary":"ghost",onClick:()=>r("weekly"),children:"주간"}),l.jsx(J,{variant:e==="monthly"?"primary":"ghost",onClick:()=>r("monthly"),children:"월간"}),e==="weekly"&&t&&l.jsx(J,{variant:"ghost",onClick:()=>Ze("weekly.csv",t.data),children:"CSV 내보내기"}),e==="monthly"&&n&&l.jsx(J,{variant:"ghost",onClick:()=>Ze("monthly.csv",n),children:"CSV 내보내기"})]}),y&&l.jsx(Ar,{message:y}),e==="weekly"&&l.jsxs("div",{className:"modern-card",style:{borderLeft:"4px solid #667eea",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",marginTop:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8,justifyContent:"space-between"},children:[l.jsx("strong",{children:"AI 인사이트"}),t&&l.jsx(J,{variant:"ghost",onClick:N,disabled:j,children:j?"분석 중...":"다시 분석"})]}),l.jsx("div",{style:{lineHeight:1.6,whiteSpace:"pre-line"},children:t?j?"AI가 분석 중입니다...":f||"AI가 현재 비활성화되어 있습니다.":"주간 데이터를 불러오는 중이거나 데이터가 없습니다."})]}),e==="weekly"&&t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"modern-card",style:{display:"grid",gridTemplateColumns:"300px 1fr 1fr 1fr",gap:12,alignItems:"center"},children:[l.jsx("div",{children:l.jsx(ae,{width:300,height:220,children:l.jsxs(ze,{children:[l.jsx(xe,{data:E?.distArr??[],dataKey:"value",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:(E?.distArr??[]).map((d,C)=>l.jsx(U,{fill:k[d.name]??k.other},`wcell-${C}`))}),l.jsx(ne,{})]})})}),l.jsxs("div",{className:"kpi",style:{borderTop:"4px solid var(--green-700)",textAlign:"center"},children:[l.jsx("div",{className:"kpi-title",children:"평균 수면"}),l.jsxs("div",{className:"kpi-value",children:[E?.sleepAvg??0," h"]})]}),l.jsxs("div",{className:"kpi",style:{borderTop:"4px solid var(--green-500)",textAlign:"center"},children:[l.jsx("div",{className:"kpi-title",children:"운동한 날"}),l.jsxs("div",{className:"kpi-value",children:[E?.exerciseCount??0," 일"]})]}),l.jsxs("div",{className:"kpi",style:{borderTop:"4px solid var(--lime-300)",textAlign:"center"},children:[l.jsx("div",{className:"kpi-title",children:"총 물 섭취"}),l.jsxs("div",{className:"kpi-value",children:[(E?.waterTotal??0).toLocaleString()," ml"]})]})]}),l.jsxs("div",{className:"modern-card",style:{height:360},children:[l.jsxs("div",{style:{marginBottom:8},children:["주간 수면/물 추이 (",t.range[0]," ~ ",t.range[1],")"]}),l.jsx(ae,{width:"100%",height:280,children:l.jsxs(De,{data:t.data,children:[l.jsx(Re,{strokeDasharray:"3 3",stroke:"#E8FCC5"}),l.jsx(Ne,{dataKey:"date",tickFormatter:d=>d.slice(5)}),l.jsx(q,{yAxisId:"left"}),l.jsx(q,{yAxisId:"right",orientation:"right"}),l.jsx(ne,{}),l.jsx(ie,{yAxisId:"left",type:"monotone",dataKey:"sleep",stroke:"#34CF5D",name:"수면(h)"}),l.jsx(ie,{yAxisId:"right",type:"monotone",dataKey:"water",stroke:"#269B61",name:"물(ml)"})]})})]}),l.jsx("div",{className:"modern-card",style:{display:"grid",gap:6},children:l.jsxs("div",{className:"muted",children:[l.jsxs("div",{children:["최고 수면: ",l.jsx("strong",{children:E?.maxSleep?.date})," (",E?.maxSleep?.sleep??0,"h)"]}),l.jsxs("div",{children:["최저 수면: ",l.jsx("strong",{children:E?.minSleep?.date})," (",E?.minSleep?.sleep??0,"h)"]})]})})]}),e==="monthly"&&n&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"modern-card",children:[l.jsx("div",{style:{marginBottom:8},children:"월간 달력(등록 여부)"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:6},children:n.map(d=>l.jsx("div",{style:{padding:8,textAlign:"center",borderRadius:8,background:d.hasRoutine?"rgba(38,155,97,0.3)":"rgba(255,255,255,0.05)"},children:l.jsx("div",{style:{fontSize:12},children:d.date.slice(8)})},d.date))})]}),o&&o.length>0&&l.jsxs("div",{className:"modern-card",style:{height:360},children:[l.jsx("div",{style:{marginBottom:8},children:"월간 수면/물 추이"}),l.jsx(ae,{width:"100%",height:280,children:l.jsxs(De,{data:o,children:[l.jsx(Re,{strokeDasharray:"3 3",stroke:"#E8FCC5"}),l.jsx(Ne,{dataKey:"date",tickFormatter:d=>d.slice(5)}),l.jsx(q,{yAxisId:"left"}),l.jsx(q,{yAxisId:"right",orientation:"right"}),l.jsx(ne,{}),l.jsx(ie,{yAxisId:"left",type:"monotone",dataKey:"sleep",stroke:"#34CF5D",name:"수면(h)"}),l.jsx(ie,{yAxisId:"right",type:"monotone",dataKey:"water",stroke:"#269B61",name:"물(ml)"})]})})]}),p&&l.jsx("div",{className:"modern-card",style:{display:"grid",gap:6},children:l.jsxs("div",{className:"muted",children:[l.jsxs("div",{children:["최고 수면: ",l.jsx("strong",{children:p.max?.date})," (",p.max?.sleep??0,"h)"]}),l.jsxs("div",{children:["최저 수면: ",l.jsx("strong",{children:p.min?.date})," (",p.min?.sleep??0,"h)"]})]})}),l.jsxs("div",{className:"modern-card",style:{display:"grid",gridTemplateColumns:"300px 1fr 1fr",gap:12,alignItems:"center"},children:[l.jsx("div",{children:l.jsx(ae,{width:300,height:220,children:l.jsxs(ze,{children:[l.jsxs(xe,{data:[{name:"기록",value:n.filter(d=>d.hasRoutine).length},{name:"미기록",value:n.filter(d=>!d.hasRoutine).length}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:[l.jsx(U,{fill:"#269B61"}),l.jsx(U,{fill:"#A1A1AA"})]}),l.jsx(ne,{})]})})}),l.jsxs("div",{className:"kpi",style:{borderTop:"4px solid var(--green-700)",textAlign:"center"},children:[l.jsx("div",{className:"kpi-title",children:"기록한 날"}),l.jsxs("div",{className:"kpi-value",children:[n.filter(d=>d.hasRoutine).length," 일"]})]}),l.jsxs("div",{className:"kpi",style:{borderTop:"4px solid var(--green-500)",textAlign:"center"},children:[l.jsx("div",{className:"kpi-title",children:"미기록"}),l.jsxs("div",{className:"kpi-value",children:[n.filter(d=>!d.hasRoutine).length," 일"]})]})]})]}),e==="weekly"&&!t&&!y&&l.jsx(Le,{message:"주간 데이터를 불러오는 중입니다..."}),e==="monthly"&&!n&&!y&&l.jsx(Le,{message:"월간 데이터를 불러오는 중입니다..."})]})}export{An as default};
