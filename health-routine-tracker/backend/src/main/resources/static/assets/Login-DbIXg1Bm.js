import{h as j,g as y,u as f,r as t,j as e,B as v,k as b}from"./index-SJ02n5JJ.js";import{I as w}from"./Input-dviLJaV-.js";import{P as N}from"./PasswordInput-B5hs7m5W.js";function P(){const{push:n}=j(),d=y(),c=f(),[a,u]=t.useState(""),[r,m]=t.useState(""),[i,h]=t.useState({}),[l,o]=t.useState(!1),p=()=>{const s={};return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)||(s.email="이메일 형식이 올바르지 않습니다."),r.length<6&&(s.password="비밀번호는 6자 이상이어야 합니다."),h(s),Object.keys(s).length===0},g=async s=>{if(s.preventDefault(),!!p())try{o(!0),await b(a,r),n("로그인 성공","success"),d("/")}catch(x){n(x?.message??"로그인 실패","error")}finally{o(!1)}};return e.jsx("section",{style:{display:"grid",placeItems:"center"},children:e.jsxs("div",{style:{width:"100%",maxWidth:480},children:[e.jsxs("div",{className:"section-head",children:[e.jsx("h2",{children:"로그인"}),e.jsx("span",{className:"muted",children:"계정으로 계속하기"})]}),c.authenticated&&e.jsx("div",{className:"modern-card",children:"이미 로그인되어 있습니다."}),e.jsxs("div",{className:"modern-card",style:{display:"grid",gap:12},children:[e.jsxs("form",{onSubmit:g,style:{display:"grid",gap:12},"aria-describedby":"login-help",children:[e.jsx(w,{label:"이메일",type:"email",value:a,onChange:s=>u(s.target.value),error:i.email}),e.jsx(N,{label:"비밀번호",value:r,onChange:s=>m(s.target.value),error:i.password}),e.jsx(v,{type:"submit",disabled:l,children:l?"로그인 중...":"로그인"})]}),e.jsx("span",{id:"login-help",className:"muted",style:{fontSize:12},children:"이메일/비밀번호를 입력하고 Enter로 제출할 수 있습니다."})]})]})})}export{P as default};
