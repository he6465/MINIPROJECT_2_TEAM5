import{h as N,g as k,r as a,j as s,B as C,m as P}from"./index-CHXlbPyc.js";import{I as o}from"./Input-l8-66ilX.js";import{P as g}from"./PasswordInput-OrkQKObT.js";function B(){const{push:c}=N(),h=k(),[i,x]=a.useState(""),[l,f]=a.useState(""),[r,j]=a.useState(""),[n,v]=a.useState(""),[d,y]=a.useState(""),[t,b]=a.useState({}),[u,m]=a.useState(!1),w=()=>{const e={};return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)||(e.email="이메일 형식이 올바르지 않습니다."),l.trim()||(e.username="아이디를 입력하세요."),(!r.trim()||r.length>50)&&(e.nickname="닉네임은 1~50자로 입력하세요."),n.length<6&&(e.password="비밀번호는 6자 이상이어야 합니다."),d!==n&&(e.password2="비밀번호가 일치하지 않습니다."),b(e),Object.keys(e).length===0},S=async e=>{if(e.preventDefault(),!!w())try{m(!0);const p=await P({email:i,username:l,nickname:r,password:n});c("회원가입 성공","success"),h("/login")}catch(p){c(p?.message??"회원가입 실패","error")}finally{m(!1)}};return s.jsx("section",{style:{display:"grid",placeItems:"center"},children:s.jsxs("div",{style:{width:"100%",maxWidth:520},children:[s.jsxs("div",{className:"section-head",children:[s.jsx("h2",{children:"회원가입"}),s.jsx("span",{className:"muted",children:"1분 만에 시작하세요"})]}),s.jsxs("div",{className:"modern-card",style:{display:"grid",gap:12},children:[s.jsxs("form",{onSubmit:S,style:{display:"grid",gap:12},"aria-describedby":"register-help",children:[s.jsx(o,{label:"이메일",type:"email",value:i,onChange:e=>x(e.target.value),error:t.email}),s.jsx(o,{label:"아이디",value:l,onChange:e=>f(e.target.value),error:t.username}),s.jsx(o,{label:"닉네임",value:r,onChange:e=>j(e.target.value),error:t.nickname}),s.jsx(g,{label:"비밀번호",value:n,onChange:e=>v(e.target.value),error:t.password}),s.jsx(g,{label:"비밀번호 확인",value:d,onChange:e=>y(e.target.value),error:t.password2}),s.jsx(C,{type:"submit",disabled:u,children:u?"가입 중...":"가입하기"})]}),s.jsx("span",{id:"register-help",className:"muted",style:{fontSize:12},children:"비밀번호는 6자 이상, 닉네임은 1~50자입니다."})]})]})})}export{B as default};
